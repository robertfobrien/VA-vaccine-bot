{"ast":null,"code":"import { Puppeteer } from \"puppeteer\";\n\nconst puppeteer = require(\"puppeteer\"); // This is the script\n\n\nexport default ((req, res) => {\n  (async () => {\n    var browser = await puppeteer.launch({\n      headless: false\n    });\n    var page = await browser.newPage();\n    await page.goto(req.body.facebooklink);\n    await page.waitForSelector(\"a.d2edcug0 hpfvmrgz qv66sw1b c1et5uql oi732d6d ik7dh3pa fgxwclzu a8c37x1j keod5gw0 nxhoafnm aigsh9s9 d9wwppkn fe6kdd0r mau55g9w c8b282yb iv3no6db jq4qci2q a3bd9o3v knj5qynh oo9gr5id hzawbc8m\");\n    var facebookEval = await page.evaluate(() => {\n      var likes = document.querySelectorAll(\"d2edcug0 hpfvmrgz qv66sw1b c1et5uql oi732d6d ik7dh3pa fgxwclzu a8c37x1j keod5gw0 nxhoafnm aigsh9s9 d9wwppkn fe6kdd0r mau55g9w c8b282yb iv3no6db jq4qci2q a3bd9o3v knj5qynh oo9gr5id hzawbc8m\");\n    });\n    console.log(facebookEval);\n    await browser.close();\n    /*\n    var currentPersonJson = {\n        name: req.body.name,\n        \"facebook-link\": req.body.facebook,\n        \"instagram-link\": req.body.instagram,\n        \"youtube-link\": req.body.instagram,\n        \"facebook-data\":\n            {\n                \"link\": req.body.facebook,\n                \"name\": ,\n                \"likes\": ,\n                \"followers\": ,\n                \"website\": ,\n                \"category\": ,\n                \"about-description\": ,\n                \"posts\":\n                [{\n                    \"date\": ,\n                    \"text-content\": ,\n                    \"media-content\": ,\n                    \"likes\": ,\n                    \"comments\": ,\n                },\n            {\n                    \"date\": ,\n                    \"text-content\": ,\n                    \"media-content\": ,\n                    \"likes\": ,\n                    \"comments\": ,\n                },\n            {\n                    \"date\": ,\n                    \"text-content\": ,\n                    \"media-content\": ,\n                    \"likes\": ,\n                    \"comments\": ,\n                }]\n            }\n    };\n    */\n    // based on req.body, call some api to get a webpage\n    // scrap page\n    // return json here\n  })();\n\n  res.status(200).json({\n    info: 'scrape page',\n    name: req.body.name\n  });\n});","map":{"version":3,"sources":["/Users/robertobrien/Documents/projects/ghost-scraper/pages/api/scrapePage.js"],"names":["Puppeteer","puppeteer","require","req","res","browser","launch","headless","page","newPage","goto","body","facebooklink","waitForSelector","facebookEval","evaluate","likes","document","querySelectorAll","console","log","close","status","json","info","name"],"mappings":"AAAA,SAASA,SAAT,QAA0B,WAA1B;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB,C,CAEA;;;AACA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAEzB,GAAC,YAAY;AACb,QAAIC,OAAO,GAAG,MAAMJ,SAAS,CAACK,MAAV,CAAiB;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAjB,CAApB;AACA,QAAIC,IAAI,GAAG,MAAMH,OAAO,CAACI,OAAR,EAAjB;AACA,UAAMD,IAAI,CAACE,IAAL,CAAUP,GAAG,CAACQ,IAAJ,CAASC,YAAnB,CAAN;AACA,UAAMJ,IAAI,CAACK,eAAL,CAAqB,gMAArB,CAAN;AAEA,QAAIC,YAAY,GAAG,MAAMN,IAAI,CAACO,QAAL,CAAc,MAAM;AACzC,UAAIC,KAAK,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,8LAA1B,CAAZ;AACD,KAFsB,CAAzB;AAIEC,IAAAA,OAAO,CAACC,GAAR,CAAYN,YAAZ;AACA,UAAMT,OAAO,CAACgB,KAAR,EAAN;AAEF;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACA;AACA;AAEH,GAzDG;;AA2DAjB,EAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,IAAI,EAAE,aAAR;AAAuBC,IAAAA,IAAI,EAAEtB,GAAG,CAACQ,IAAJ,CAASc;AAAtC,GAArB;AACD,CA9DH","sourcesContent":["import { Puppeteer } from \"puppeteer\"\nconst puppeteer = require(\"puppeteer\");\n\n// This is the script\nexport default (req, res) => {\n\n    (async () => { \n    var browser = await puppeteer.launch({headless: false});\n    var page = await browser.newPage(); \n    await page.goto(req.body.facebooklink);\n    await page.waitForSelector(\"a.d2edcug0 hpfvmrgz qv66sw1b c1et5uql oi732d6d ik7dh3pa fgxwclzu a8c37x1j keod5gw0 nxhoafnm aigsh9s9 d9wwppkn fe6kdd0r mau55g9w c8b282yb iv3no6db jq4qci2q a3bd9o3v knj5qynh oo9gr5id hzawbc8m\");\n    \n    var facebookEval = await page.evaluate(() => {\n        var likes = document.querySelectorAll(\"d2edcug0 hpfvmrgz qv66sw1b c1et5uql oi732d6d ik7dh3pa fgxwclzu a8c37x1j keod5gw0 nxhoafnm aigsh9s9 d9wwppkn fe6kdd0r mau55g9w c8b282yb iv3no6db jq4qci2q a3bd9o3v knj5qynh oo9gr5id hzawbc8m\");\n      });\n\n      console.log(facebookEval);\n      await browser.close();\n    \n    /*\n    var currentPersonJson = {\n        name: req.body.name,\n        \"facebook-link\": req.body.facebook,\n        \"instagram-link\": req.body.instagram,\n        \"youtube-link\": req.body.instagram,\n        \"facebook-data\":\n            {\n                \"link\": req.body.facebook,\n                \"name\": ,\n                \"likes\": ,\n                \"followers\": ,\n                \"website\": ,\n                \"category\": ,\n                \"about-description\": ,\n                \"posts\":\n                [{\n                    \"date\": ,\n                    \"text-content\": ,\n                    \"media-content\": ,\n                    \"likes\": ,\n                    \"comments\": ,\n                },\n            {\n                    \"date\": ,\n                    \"text-content\": ,\n                    \"media-content\": ,\n                    \"likes\": ,\n                    \"comments\": ,\n                },\n            {\n                    \"date\": ,\n                    \"text-content\": ,\n                    \"media-content\": ,\n                    \"likes\": ,\n                    \"comments\": ,\n                }]\n            }\n    };\n    */\n    // based on req.body, call some api to get a webpage\n    // scrap page\n    // return json here\n\n})();\n\n    res.status(200).json({ info: 'scrape page', name: req.body.name })\n  }\n  "]},"metadata":{},"sourceType":"module"}