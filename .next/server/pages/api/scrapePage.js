module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = require('../../ssr-module-cache.js');
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete installedModules[moduleId];
/******/ 		}
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./pages/api/scrapePage.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./pages/api/scrapePage.js":
/*!*********************************!*\
  !*** ./pages/api/scrapePage.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst puppeteer = __webpack_require__(/*! puppeteer */ \"puppeteer\");\n\nconst ig = __webpack_require__(/*! instagram-scraping */ \"instagram-scraping\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((req, res) => {\n  (async () => {\n    console.log('############################');\n    console.log(\"{\");\n    console.log(\"type: '\" + \"name\" + \"',\");\n    console.log(\"name: '\" + req.body.name + \"',\");\n    console.log(\"}\");\n    let browser = await puppeteer.launch({\n      headless: true\n    }); //turn to FALSE to debug\n\n    let page = await browser.newPage();\n\n    if (req.body.youtubelink != \"\") {\n      await page.goto(req.body.youtubelink + '/about', {\n        waitUntil: 'networkidle2'\n      });\n      let youtubeStats = await page.evaluate(() => {\n        var type, name, description, viewsString, viewsNum, subscriberString, subscriberNum, subscriberPrefix;\n        var nameObj = document.querySelector('#channel-name > div > div');\n        if (nameObj != null) name = nameObj.innerText;\n        var descriptionObj = document.querySelector('#description');\n        if (descriptionObj != null) description = descriptionObj.innerText;\n        var subscriberStringObj = document.querySelector('#subscriber-count');\n\n        if (subscriberStringObj != null) {\n          subscriberString = subscriberStringObj.innerText;\n          subscriberString = subscriberString.slice(0, subscriberString.length - 12);\n          subscriberPrefix = subscriberString.slice(0, subscriberString.length - 1);\n        }\n\n        var endLetterObj = document.querySelector('#subscriber-count');\n\n        if (endLetterObj != null) {\n          var endLetter = document.querySelector('#subscriber-count').innerText.slice(0, document.querySelector('#subscriber-count').innerText.length - 12);\n          endLetter = endLetter.slice(endLetter.length - 1);\n          if (endLetter == \"K\") subscriberNum = parseInt(parseFloat(subscriberPrefix) * 1000);else if (endLetter == \"M\") subscriberNum = parseInt(parseFloat(subscriberPrefix) * 1000000);else subscriberNum = parseInt(subscriberString);\n        }\n\n        var viewStringObj = document.querySelectorAll('#right-column > yt-formatted-string')[2];\n\n        if (viewStringObj != null) {\n          viewsString = document.querySelectorAll('#right-column > yt-formatted-string')[2].innerText;\n          viewsString = viewsString.slice(0, viewsString.length - 6);\n          viewsString = viewsString.replace(',', '').replace(',', '').replace(',', '');\n          viewsNum = parseInt(viewsString);\n        }\n\n        var type = 'youtube';\n        return {\n          type,\n          name,\n          description,\n          viewsString,\n          viewsNum,\n          subscriberString,\n          subscriberNum\n        };\n      });\n      await page.goto(req.body.youtubelink + \"/featured\", {\n        waitUntil: 'networkidle2'\n      });\n      let videoStats = await page.evaluate(() => {\n        var videos = [];\n\n        for (i = 0; i < 5; i++) {\n          if (document.querySelectorAll('#items > ytd-grid-video-renderer')[i] != null) videos[i] = document.querySelectorAll('#items > ytd-grid-video-renderer')[i].innerText;\n        }\n\n        var type = 'youtube-videos';\n        return {\n          type,\n          videos\n        };\n      });\n      console.log(videoStats);\n      console.log(youtubeStats);\n    }\n\n    if (req.body.instagramlink != \"\") {\n      // using username for scraping\n      //cuts out just the username from the link, or just uses the \n      //username if its already in that format\n      const positionOfUser = req.body.instagramlink.search('.com/');\n\n      if (positionOfUser != -1) {\n        let instaUser = req.body.instagramlink.slice(positionOfUser + 5);\n        const positionOfSlash = instaUser.search('/');\n        instaUser = instaUser.slice(0, positionOfSlash);\n      }\n\n      var username, numFollowers, numFollowing, bio, website, numPosts, posts, fullName;\n      var rawObject = ig.scrapeUserPage(instaUser).then(result => {\n        username = instaUser;\n        numFollowers = result.user.edge_followed_by.count;\n        numFollowing = result.user.edge_follow.count;\n        bio = result.user.biography;\n        website = result.user.external_url;\n        posts = [];\n        numPosts = result.total;\n\n        for (var i = 0; i < result.total; i++) {\n          var numLikes = result.medias[i].like_count;\n          var numComments = result.medias[i].comment_count;\n          posts[i] = {\n            numLikes,\n            numComments\n          };\n        }\n\n        fullName = user.full_name;\n      });\n      const instagramStats = {\n        \"type\": \"instagram\",\n        \"fullname\": fullName,\n        \"username\": username,\n        \"numposts\": numPosts,\n        \"numFollowers\": numFollowers,\n        \"numFollowing\": numFollowing,\n        \"bio\": bio,\n        \"website\": website,\n        \"posts\": posts\n      };\n      console.log(instagramStats);\n    }\n\n    if (req.body.facebooklink != \"\") {\n      await page.goto(req.body.facebooklink, {\n        waitUntil: 'networkidle2'\n      });\n      let facebookStats = await page.evaluate(() => {\n        var type, name, likes, followers, website, category;\n        if (document.querySelector('a[class=\"_64-f\"] > span') != null) name = document.querySelector('a[class=\"_64-f\"] > span').innerText;\n\n        if (document.querySelectorAll('div[class=\"_4-u2 _6590 _3xaf _4-u8\"] > div > div > div > div')[0] != null) {\n          likes = document.querySelectorAll('div[class=\"_4-u2 _6590 _3xaf _4-u8\"] > div > div > div > div')[0].innerText;\n          likes = likes.slice(0, likes.length - 17).replace(',', '').replace(',', '').replace(',', '');\n        }\n\n        if (document.querySelectorAll('div[class=\"_4-u2 _6590 _3xaf _4-u8\"] > div > div > div._4bl9 > div')[1] != null) {\n          followers = document.querySelectorAll('div[class=\"_4-u2 _6590 _3xaf _4-u8\"] > div > div > div._4bl9 > div')[1].innerText;\n          followers = followers.slice(0, followers.length - 19).replace(',', '').replace(',', '').replace(',', '');\n        }\n\n        if (document.querySelectorAll('#u_0_q_Oa > div > a')[1] != null) website = document.querySelectorAll('#u_0_q_Oa > div > a')[1].innerText;\n\n        if (document.querySelectorAll('div[class=\"_4bl9\"] > div')[4] != null) {\n          category = document.querySelectorAll('div[class=\"_4bl9\"] > div')[4].innerText; //handles for some pages that added \"contact on messenger\"\n\n          if (category.search('Contact') > -1) category = document.querySelectorAll('div[class=\"_4bl9\"] > div')[5].innerText;\n        }\n\n        var type = 'facebook';\n        var likesNum = parseInt(likes);\n        var followersNum = parseInt(followers);\n        return {\n          type,\n          name,\n          likesNum,\n          followersNum,\n          website,\n          category\n        };\n      });\n      let postStats = await page.evaluate(() => {\n        var posts = [];\n\n        for (i = 0; i < 2; i++) {\n          if (document.querySelectorAll('div[class=\"_5va1 _427x')[i].innerText != null) posts[i] = document.querySelectorAll('div[class=\"_5va1 _427x')[i].innerText;\n        }\n\n        var type = 'facebook-posts';\n        return {\n          type,\n          posts\n        };\n      });\n      console.log(postStats);\n      console.log(facebookStats);\n    }\n\n    await browser.close();\n  })();\n\n  res.status(200).json({\n    info: 'scrape page',\n    name: req.body.name\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9hcGkvc2NyYXBlUGFnZS5qcz85YWY3Il0sIm5hbWVzIjpbInB1cHBldGVlciIsInJlcXVpcmUiLCJpZyIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwibmFtZSIsImJyb3dzZXIiLCJsYXVuY2giLCJoZWFkbGVzcyIsInBhZ2UiLCJuZXdQYWdlIiwieW91dHViZWxpbmsiLCJnb3RvIiwid2FpdFVudGlsIiwieW91dHViZVN0YXRzIiwiZXZhbHVhdGUiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJ2aWV3c1N0cmluZyIsInZpZXdzTnVtIiwic3Vic2NyaWJlclN0cmluZyIsInN1YnNjcmliZXJOdW0iLCJzdWJzY3JpYmVyUHJlZml4IiwibmFtZU9iaiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlubmVyVGV4dCIsImRlc2NyaXB0aW9uT2JqIiwic3Vic2NyaWJlclN0cmluZ09iaiIsInNsaWNlIiwibGVuZ3RoIiwiZW5kTGV0dGVyT2JqIiwiZW5kTGV0dGVyIiwicGFyc2VJbnQiLCJwYXJzZUZsb2F0Iiwidmlld1N0cmluZ09iaiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXBsYWNlIiwidmlkZW9TdGF0cyIsInZpZGVvcyIsImkiLCJpbnN0YWdyYW1saW5rIiwicG9zaXRpb25PZlVzZXIiLCJzZWFyY2giLCJpbnN0YVVzZXIiLCJwb3NpdGlvbk9mU2xhc2giLCJ1c2VybmFtZSIsIm51bUZvbGxvd2VycyIsIm51bUZvbGxvd2luZyIsImJpbyIsIndlYnNpdGUiLCJudW1Qb3N0cyIsInBvc3RzIiwiZnVsbE5hbWUiLCJyYXdPYmplY3QiLCJzY3JhcGVVc2VyUGFnZSIsInRoZW4iLCJyZXN1bHQiLCJ1c2VyIiwiZWRnZV9mb2xsb3dlZF9ieSIsImNvdW50IiwiZWRnZV9mb2xsb3ciLCJiaW9ncmFwaHkiLCJleHRlcm5hbF91cmwiLCJ0b3RhbCIsIm51bUxpa2VzIiwibWVkaWFzIiwibGlrZV9jb3VudCIsIm51bUNvbW1lbnRzIiwiY29tbWVudF9jb3VudCIsImZ1bGxfbmFtZSIsImluc3RhZ3JhbVN0YXRzIiwiZmFjZWJvb2tsaW5rIiwiZmFjZWJvb2tTdGF0cyIsImxpa2VzIiwiZm9sbG93ZXJzIiwiY2F0ZWdvcnkiLCJsaWtlc051bSIsImZvbGxvd2Vyc051bSIsInBvc3RTdGF0cyIsImNsb3NlIiwic3RhdHVzIiwianNvbiIsImluZm8iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBTUEsU0FBUyxHQUFHQyxtQkFBTyxDQUFDLDRCQUFELENBQXpCOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsbUJBQU8sQ0FBQyw4Q0FBRCxDQUFsQjs7QUFFZSxnRUFBQ0UsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFFekIsR0FBQyxZQUFZO0FBRVRDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLDhCQUFaO0FBQ0FELFdBQU8sQ0FBQ0MsR0FBUixDQUFZLEdBQVo7QUFDQUQsV0FBTyxDQUFDQyxHQUFSLENBQVksWUFBWSxNQUFaLEdBQXFCLElBQWpDO0FBQ0FELFdBQU8sQ0FBQ0MsR0FBUixDQUFZLFlBQVlILEdBQUcsQ0FBQ0ksSUFBSixDQUFTQyxJQUFyQixHQUE0QixJQUF4QztBQUNBSCxXQUFPLENBQUNDLEdBQVIsQ0FBWSxHQUFaO0FBQ0EsUUFBSUcsT0FBTyxHQUFHLE1BQU1ULFNBQVMsQ0FBQ1UsTUFBVixDQUFpQjtBQUFDQyxjQUFRLEVBQUU7QUFBWCxLQUFqQixDQUFwQixDQVBTLENBTytDOztBQUN4RCxRQUFJQyxJQUFJLEdBQUcsTUFBTUgsT0FBTyxDQUFDSSxPQUFSLEVBQWpCOztBQUVKLFFBQUdWLEdBQUcsQ0FBQ0ksSUFBSixDQUFTTyxXQUFULElBQXdCLEVBQTNCLEVBQ0k7QUFDQSxZQUFNRixJQUFJLENBQUNHLElBQUwsQ0FBVVosR0FBRyxDQUFDSSxJQUFKLENBQVNPLFdBQVQsR0FBdUIsUUFBakMsRUFBMkM7QUFBQ0UsaUJBQVMsRUFBRTtBQUFaLE9BQTNDLENBQU47QUFFQSxVQUFJQyxZQUFZLEdBQUcs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QUcsQ0FBQ0ksSUFBSixDQUFTQztBQUF0QyxHQUFyQjtBQUNELENBbk9IIiwiZmlsZSI6Ii4vcGFnZXMvYXBpL3NjcmFwZVBhZ2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwdXBwZXRlZXIgPSByZXF1aXJlKFwicHVwcGV0ZWVyXCIpO1xuY29uc3QgaWcgPSByZXF1aXJlKCdpbnN0YWdyYW0tc2NyYXBpbmcnKTtcblxuZXhwb3J0IGRlZmF1bHQgKHJlcSwgcmVzKSA9PiB7XG5cbiAgICAoYXN5bmMgKCkgPT4geyBcblxuICAgICAgICBjb25zb2xlLmxvZygnIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIycpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIntcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidHlwZTogJ1wiICsgXCJuYW1lXCIgKyBcIicsXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm5hbWU6ICdcIiArIHJlcS5ib2R5Lm5hbWUgKyBcIicsXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIn1cIik7XG4gICAgICAgIGxldCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCh7aGVhZGxlc3M6IHRydWV9KTsgLy90dXJuIHRvIEZBTFNFIHRvIGRlYnVnXG4gICAgICAgIGxldCBwYWdlID0gYXdhaXQgYnJvd3Nlci5uZXdQYWdlKCk7IFxuXG4gICAgaWYocmVxLmJvZHkueW91dHViZWxpbmsgIT0gXCJcIilcbiAgICAgICAge1xuICAgICAgICBhd2FpdCBwYWdlLmdvdG8ocmVxLmJvZHkueW91dHViZWxpbmsgKyAnL2Fib3V0Jywge3dhaXRVbnRpbDogJ25ldHdvcmtpZGxlMid9KTtcbiAgICAgICAgXG4gICAgICAgIGxldCB5b3V0dWJlU3RhdHMgPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcblxuICAgICAgICAgICAgdmFyIHR5cGUsIG5hbWUsZGVzY3JpcHRpb24sdmlld3NTdHJpbmcsdmlld3NOdW0sc3Vic2NyaWJlclN0cmluZyxzdWJzY3JpYmVyTnVtLCBzdWJzY3JpYmVyUHJlZml4O1xuXG4gICAgICAgICAgICB2YXIgbmFtZU9iaiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGFubmVsLW5hbWUgPiBkaXYgPiBkaXYnKTtcbiAgICAgICAgICAgIGlmKG5hbWVPYmogIT0gbnVsbClcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZU9iai5pbm5lclRleHQ7XG5cbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbk9iaiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZXNjcmlwdGlvbicpO1xuICAgICAgICAgICAgaWYoZGVzY3JpcHRpb25PYmogIT0gbnVsbClcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uT2JqLmlubmVyVGV4dDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHN1YnNjcmliZXJTdHJpbmdPYmogPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3Vic2NyaWJlci1jb3VudCcpO1xuICAgICAgICAgICAgaWYoc3Vic2NyaWJlclN0cmluZ09iaiAhPSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXJTdHJpbmcgPSBzdWJzY3JpYmVyU3RyaW5nT2JqLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyU3RyaW5nID0gc3Vic2NyaWJlclN0cmluZy5zbGljZSgwLCBzdWJzY3JpYmVyU3RyaW5nLmxlbmd0aC0xMik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlclByZWZpeCA9IHN1YnNjcmliZXJTdHJpbmcuc2xpY2UoMCxzdWJzY3JpYmVyU3RyaW5nLmxlbmd0aC0xKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGVuZExldHRlck9iaiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJzY3JpYmVyLWNvdW50Jyk7XG4gICAgICAgICAgICBpZihlbmRMZXR0ZXJPYmogIT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgZW5kTGV0dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1YnNjcmliZXItY291bnQnKS5pbm5lclRleHQuc2xpY2UoMCxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3Vic2NyaWJlci1jb3VudCcpLmlubmVyVGV4dC5sZW5ndGgtMTIpO1xuICAgICAgICAgICAgICAgIGVuZExldHRlciA9IGVuZExldHRlci5zbGljZShlbmRMZXR0ZXIubGVuZ3RoLTEpO1xuICAgICAgICAgICAgICAgIGlmIChlbmRMZXR0ZXIgPT0gXCJLXCIpXG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJOdW0gPSBwYXJzZUludChwYXJzZUZsb2F0KHN1YnNjcmliZXJQcmVmaXgpKjEwMDApO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVuZExldHRlciA9PSBcIk1cIilcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlck51bSA9IHBhcnNlSW50KHBhcnNlRmxvYXQoc3Vic2NyaWJlclByZWZpeCkqMTAwMDAwMCk7XG4gICAgICAgICAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlck51bSA9IHBhcnNlSW50KHN1YnNjcmliZXJTdHJpbmcpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIFxuXG5cbiAgICAgICAgXG4gICAgICAgICAgICB2YXIgdmlld1N0cmluZ09iaiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNyaWdodC1jb2x1bW4gPiB5dC1mb3JtYXR0ZWQtc3RyaW5nJylbMl07XG4gICAgICAgICAgICBpZiAodmlld1N0cmluZ09iaiAhPSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZpZXdzU3RyaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3JpZ2h0LWNvbHVtbiA+IHl0LWZvcm1hdHRlZC1zdHJpbmcnKVsyXS5pbm5lclRleHQ7XG4gICAgICAgICAgICAgICAgdmlld3NTdHJpbmcgPSB2aWV3c1N0cmluZy5zbGljZSgwLHZpZXdzU3RyaW5nLmxlbmd0aC02KTtcbiAgICAgICAgICAgICAgICB2aWV3c1N0cmluZyA9IHZpZXdzU3RyaW5nLnJlcGxhY2UoJywnLCAnJykucmVwbGFjZSgnLCcsICcnKS5yZXBsYWNlKCcsJywgJycpO1xuICAgICAgICAgICAgICAgIHZpZXdzTnVtID0gcGFyc2VJbnQodmlld3NTdHJpbmcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHlwZSA9ICd5b3V0dWJlJztcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgdmlld3NTdHJpbmcsXG4gICAgICAgICAgICAgICAgdmlld3NOdW0sXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlclN0cmluZyxcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyTnVtLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIFxuICAgICAgICBhd2FpdCBwYWdlLmdvdG8ocmVxLmJvZHkueW91dHViZWxpbmsgKyBcIi9mZWF0dXJlZFwiLCB7d2FpdFVudGlsOiAnbmV0d29ya2lkbGUyJ30pO1xuXG4gICAgICAgIGxldCB2aWRlb1N0YXRzID0gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgdmlkZW9zID0gW107XG4gICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCA1OyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNpdGVtcyA+IHl0ZC1ncmlkLXZpZGVvLXJlbmRlcmVyJylbaV0gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9zW2ldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2l0ZW1zID4geXRkLWdyaWQtdmlkZW8tcmVuZGVyZXInKVtpXS5pbm5lclRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHR5cGUgPSAneW91dHViZS12aWRlb3MnO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIHZpZGVvcyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgY29uc29sZS5sb2codmlkZW9TdGF0cyk7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICBjb25zb2xlLmxvZyh5b3V0dWJlU3RhdHMpO1xuICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgaWYocmVxLmJvZHkuaW5zdGFncmFtbGluayAhPSBcIlwiKVxuICAgIHsgICAgXG4gICAgICAgIFxuICAgICAgICAvLyB1c2luZyB1c2VybmFtZSBmb3Igc2NyYXBpbmdcbiAgICAgICAgLy9jdXRzIG91dCBqdXN0IHRoZSB1c2VybmFtZSBmcm9tIHRoZSBsaW5rLCBvciBqdXN0IHVzZXMgdGhlIFxuICAgICAgICAvL3VzZXJuYW1lIGlmIGl0cyBhbHJlYWR5IGluIHRoYXQgZm9ybWF0XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uT2ZVc2VyID0gcmVxLmJvZHkuaW5zdGFncmFtbGluay5zZWFyY2goJy5jb20vJyk7XG4gICAgICAgIGlmKHBvc2l0aW9uT2ZVc2VyICE9IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgaW5zdGFVc2VyID0gcmVxLmJvZHkuaW5zdGFncmFtbGluay5zbGljZShwb3NpdGlvbk9mVXNlcis1KTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uT2ZTbGFzaCA9IGluc3RhVXNlci5zZWFyY2goJy8nKTtcbiAgICAgICAgICAgIGluc3RhVXNlciA9IGluc3RhVXNlci5zbGljZSgwLHBvc2l0aW9uT2ZTbGFzaCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXNlcm5hbWUsIG51bUZvbGxvd2VycywgbnVtRm9sbG93aW5nLCBiaW8sIHdlYnNpdGUsIG51bVBvc3RzLCBwb3N0cywgZnVsbE5hbWU7IFxuXG4gICAgICAgIHZhciByYXdPYmplY3QgPSBpZy5zY3JhcGVVc2VyUGFnZShpbnN0YVVzZXIpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIHVzZXJuYW1lID0gaW5zdGFVc2VyO1xuICAgICAgICAgICAgbnVtRm9sbG93ZXJzID0gcmVzdWx0LnVzZXIuZWRnZV9mb2xsb3dlZF9ieS5jb3VudDtcbiAgICAgICAgICAgIG51bUZvbGxvd2luZyA9ICByZXN1bHQudXNlci5lZGdlX2ZvbGxvdy5jb3VudDtcbiAgICAgICAgICAgIGJpbyA9IHJlc3VsdC51c2VyLmJpb2dyYXBoeTtcbiAgICAgICAgICAgIHdlYnNpdGUgPSByZXN1bHQudXNlci5leHRlcm5hbF91cmw7XG4gICAgICAgICAgICBwb3N0cyA9IFtdO1xuICAgICAgICAgICAgbnVtUG9zdHMgPSByZXN1bHQudG90YWw7IFxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHJlc3VsdC50b3RhbDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBudW1MaWtlcyA9IHJlc3VsdC5tZWRpYXNbaV0ubGlrZV9jb3VudDtcbiAgICAgICAgICAgICAgICB2YXIgbnVtQ29tbWVudHMgPSByZXN1bHQubWVkaWFzW2ldLmNvbW1lbnRfY291bnQ7XG4gICAgICAgICAgICAgICAgcG9zdHNbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIG51bUxpa2VzLFxuICAgICAgICAgICAgICAgICAgICBudW1Db21tZW50cyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdWxsTmFtZSA9IHVzZXIuZnVsbF9uYW1lO1xuICAgICAgICB9KVxuXG4gICAgICAgY29uc3QgaW5zdGFncmFtU3RhdHMgPSB7XG4gICAgICAgICAgICBcInR5cGVcIjpcImluc3RhZ3JhbVwiLFxuICAgICAgICAgICAgXCJmdWxsbmFtZVwiOmZ1bGxOYW1lLFxuICAgICAgICAgICAgXCJ1c2VybmFtZVwiOnVzZXJuYW1lLCBcbiAgICAgICAgICAgIFwibnVtcG9zdHNcIjpudW1Qb3N0cyxcbiAgICAgICAgICAgIFwibnVtRm9sbG93ZXJzXCI6bnVtRm9sbG93ZXJzLFxuICAgICAgICAgICAgXCJudW1Gb2xsb3dpbmdcIjpudW1Gb2xsb3dpbmcsXG4gICAgICAgICAgICBcImJpb1wiOmJpbyxcbiAgICAgICAgICAgIFwid2Vic2l0ZVwiOndlYnNpdGUsXG4gICAgICAgICAgICBcInBvc3RzXCI6cG9zdHMsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhpbnN0YWdyYW1TdGF0cyk7XG4gICAgfVxuIFxuICAgIFxuICAgIGlmKHJlcS5ib2R5LmZhY2Vib29rbGluayAhPSBcIlwiKVxuICAgIHsgICAgXG4gICAgICAgIFxuICAgICAgICBhd2FpdCBwYWdlLmdvdG8ocmVxLmJvZHkuZmFjZWJvb2tsaW5rICwge3dhaXRVbnRpbDogJ25ldHdvcmtpZGxlMid9KTtcblxuICAgICAgICBsZXQgZmFjZWJvb2tTdGF0cyA9IGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xuXG4gICAgICAgICAgICB2YXIgdHlwZSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBsaWtlcyxcbiAgICAgICAgICAgIGZvbGxvd2VycyxcbiAgICAgICAgICAgIHdlYnNpdGUsXG4gICAgICAgICAgICBjYXRlZ29yeTtcblxuICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYVtjbGFzcz1cIl82NC1mXCJdID4gc3BhbicpICE9IG51bGwpXG4gICAgICAgICAgICAgICAgbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FbY2xhc3M9XCJfNjQtZlwiXSA+IHNwYW4nKS5pbm5lclRleHQ7XG4gICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbY2xhc3M9XCJfNC11MiBfNjU5MCBfM3hhZiBfNC11OFwiXSA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdicpWzBdICE9IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlrZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbY2xhc3M9XCJfNC11MiBfNjU5MCBfM3hhZiBfNC11OFwiXSA+IGRpdiA+IGRpdiA+IGRpdiA+IGRpdicpWzBdLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgICBsaWtlcyA9IGxpa2VzLnNsaWNlKDAsbGlrZXMubGVuZ3RoLTE3KS5yZXBsYWNlKCcsJywgJycpLnJlcGxhY2UoJywnLCAnJykucmVwbGFjZSgnLCcsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdltjbGFzcz1cIl80LXUyIF82NTkwIF8zeGFmIF80LXU4XCJdID4gZGl2ID4gZGl2ID4gZGl2Ll80Ymw5ID4gZGl2JylbMV0gIT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb2xsb3dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbY2xhc3M9XCJfNC11MiBfNjU5MCBfM3hhZiBfNC11OFwiXSA+IGRpdiA+IGRpdiA+IGRpdi5fNGJsOSA+IGRpdicpWzFdLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgICBmb2xsb3dlcnMgPSBmb2xsb3dlcnMuc2xpY2UoMCxmb2xsb3dlcnMubGVuZ3RoLTE5KS5yZXBsYWNlKCcsJywgJycpLnJlcGxhY2UoJywnLCAnJykucmVwbGFjZSgnLCcsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN1XzBfcV9PYSA+IGRpdiA+IGEnKVsxXSAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHdlYnNpdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjdV8wX3FfT2EgPiBkaXYgPiBhJylbMV0uaW5uZXJUZXh0O1xuICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2W2NsYXNzPVwiXzRibDlcIl0gPiBkaXYnKVs0XSAhPSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdltjbGFzcz1cIl80Ymw5XCJdID4gZGl2JylbNF0uaW5uZXJUZXh0O1xuICAgICAgICAgICAgICAgIC8vaGFuZGxlcyBmb3Igc29tZSBwYWdlcyB0aGF0IGFkZGVkIFwiY29udGFjdCBvbiBtZXNzZW5nZXJcIlxuICAgICAgICAgICAgICAgIGlmKGNhdGVnb3J5LnNlYXJjaCgnQ29udGFjdCcpID4gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2W2NsYXNzPVwiXzRibDlcIl0gPiBkaXYnKVs1XS5pbm5lclRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHR5cGUgPSAnZmFjZWJvb2snO1xuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBsaWtlc051bSA9IHBhcnNlSW50KGxpa2VzKTtcbiAgICAgICAgICAgIHZhciBmb2xsb3dlcnNOdW0gPSBwYXJzZUludChmb2xsb3dlcnMpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBsaWtlc051bSxcbiAgICAgICAgICAgICAgICBmb2xsb3dlcnNOdW0sXG4gICAgICAgICAgICAgICAgd2Vic2l0ZSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgcG9zdFN0YXRzID0gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgcG9zdHMgPSBbXTtcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IDI7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2W2NsYXNzPVwiXzV2YTEgXzQyN3gnKVtpXS5pbm5lclRleHQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcG9zdHNbaV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbY2xhc3M9XCJfNXZhMSBfNDI3eCcpW2ldLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdHlwZSA9ICdmYWNlYm9vay1wb3N0cyc7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgcG9zdHMsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnNvbGUubG9nKHBvc3RTdGF0cyk7XG5cbiAgICAgICAgY29uc29sZS5sb2coZmFjZWJvb2tTdGF0cyk7XG59XG5cblxuICAgICAgICBhd2FpdCBicm93c2VyLmNsb3NlKCk7XG5cbiAgICAgICAgfSkoKTtcblxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBpbmZvOiAnc2NyYXBlIHBhZ2UnLCBuYW1lOiByZXEuYm9keS5uYW1lIH0pXG4gIH1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/api/scrapePage.js\n");

/***/ }),

/***/ "instagram-scraping":
/*!*************************************!*\
  !*** external "instagram-scraping" ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"instagram-scraping\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJpbnN0YWdyYW0tc2NyYXBpbmdcIj83YTJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Imluc3RhZ3JhbS1zY3JhcGluZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImluc3RhZ3JhbS1zY3JhcGluZ1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///instagram-scraping\n");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"puppeteer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwdXBwZXRlZXJcIj8wNmZkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6InB1cHBldGVlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInB1cHBldGVlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///puppeteer\n");

/***/ })

/******/ });